# Story 4.5.2 : Magic Links et Évaluation du Maître de Stage

**Status:** Approved

## Story
**As a** Maître de Stage (externe),
**I want** évaluer l'étudiant via un formulaire sans création de compte,
**so that** je peux valider ses compétences en situation professionnelle rapidement.

## Acceptance Criteria
1. Génération d'un token UUID unique pour chaque évaluation de stage.
2. Nouveau router `apps/api/app/routers/public_eval.py` pour les accès anonymes.
3. Formulaire public affichant les AC (Apprentissages Critiques) liés à l'activité "STAGE".
4. Persistance des notes du maître de stage (en % via sliders).
5. Invalidation du token après soumission.

## Tasks / Subtasks
- [ ] **Backend : Logique de Token** (AC: #1)
    - [ ] Ajouter un champ `evaluation_token` et `token_expires_at` à `Internship`.
- [ ] **Backend : Router Public** (AC: #2, #4, #5)
    - [ ] Créer `public_eval.py`.
    - [ ] Endpoint `GET /public-eval/{token}` pour récupérer la grille.
    - [ ] Endpoint `POST /public-eval/{token}` pour enregistrer les notes.
- [ ] **Frontend : Vue Publique** (AC: #3)
    - [ ] Créer une vue `PublicEvaluationView.tsx` (accessible sans auth).
    - [ ] Utiliser Mantine Sliders pour les notes.

## Dev Notes
- **Sécurité** : Ne pas exposer d'autres données que celles nécessaires à l'évaluation.
- **Branding** : Utiliser le logo et les couleurs récupérés via `/public/config`.

## Dev Agent Record
### Agent Model Used
- 
### Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-24 | 1.0 | Création initiale | John (PM) |
